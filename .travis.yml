services:
  - docker
  
script:
  - docker build --target test --tag todo-app:test .
  - docker run todo-app:test tests
  - docker run -e TRELLO_API_KEY -e TRELLO_API_TOKEN -e TRELLO_BOARD_ID todo-app:test tests_e2e

env:
  global:
  - secure: kE7QwZ+e71kh/phmCf3qM9cRJpUTMtcxCmxhwwa/PhBcx+hPz+VcbFaQyYU7U47roNNgssDiGMnjbnAdrMllHDqbzVDXPMSFsvQRN7vpa9kiPBuoZNX453G5QLmQfMBnOX45HU9VoT9wQIEfwrHoN5qSyFIzLRwebEmrSRIuwHJXMHbHG+ePxYJC6D3Op2XSrAZmJI0h6DyV8zPG/FBi7yc/jUVfi5CVs6aCu5PbyZ0ZQLht8m2frWS/POJsCD24uqXVub25bFedhVKj0sjgcZSibGMtVPTXL4sJdr2vqy3KbykJ7a1W1cfu3lz/xvfU0TLynh/3/kTZKKlbgePhaBERfnbecRnuYqN3nMMOWAiW8BxZG1u8JKj2H9Bgz/Cai+nC5gWsEMtNSdXTlUzd3/ojXIS2K1jvxgZq1ajZiLpq9bQBzIhVskzIF9K7ejWV08B9nYv1neMBxOBYRoK9niDTwVeb/hL6x+5MMBitiiaQ7myhLWsVHQgY6fLghMRzAmCBhRcq97ROe7knCyg59c/dL6BecrObBdoieGlkR2uk/sGHRTML7lltuPCflHfbrpfUINBD0E6wtI1DqMFuI3xFS7nIZXU054RxTDBIFPgmIc7LceHKxaqGVhUz1KeuocOuMU5sR11jSxJreewOplMPVrpZryqv3XmaA4m7qEE=
  - secure: j0BzqnurFA5FtvTcFOZXjhx2YgImWDDCVnuY6St4SZUounOVJP0e4ooXpg8Q5gz6wMe7bPpefaa7FfxCUrjZ84wBgIZ4PT/HK3Zh7YU1l6oZZxah4lMVrr+vAXPISQGt5JZyS7J1AFkk/wB0JldVCg+5Y9pNmYvn0Fs5GN+MK6tCFtOLPwcdRAWhKz+xO8Qo8qxtjGSuloz0ud8+/o+H2YAf3Rz07owcIUyMyFtaonCwBOvJQzo8kXPiO13rkpDGuz49cZ2ZVnD9acHln21ZFp/X5KDL/XebzwFJipCVcFepZPEnrxbmPWpezHzblz9TU2JfgEiyiPl4vj4rdCFjcLd3gET5AdqvUeJTySPfPNnqcwcpWZql5niB5xlbKr4LtGIANoGDC3fU6fPqW0yvGPdvQdQfkfwYiUdkAeAX10N4K34iDFhM8Obj4jvCQv9TTHSPtfWPESOZZ0WZh6Nwo42DLdmJ242XL1SZlzOZ2TIsaYX1jVFPOG3IzPLiL0gTx7kQqzaU1Sy9NraaiH4fGinKmOfJ91OZLyQQmBbldwjSv6wEJ751TiwVJPQQrogEBiPR/8keJfBTuSa3BG2Ck8WfI5PhdocLKsWF80lYXcvPwpXQ8socnXoWyQWREPNPeCG7GVF0VRgwQ3UO0/ULIaY6PW1LIiLFNNqiGluMfDs=
  - secure: PXpUeavVXB8im8K1pHS/Bl5RtsCe5bksKlLtd0QyqGrey8x6FrVmM53xjG+5q0DUkss6k5hr6IPyORCB+xDn3yZpkgQUbH2FtbD/PMMEq8Nb9nV0/VeY0i8WdSf7AjJ1uwiuQknpoRWLQOQCNftoN7k563so0KTLhEgozPDuWQjo58GuFJgI77M7YsZpgjNBQHVuq0eibXCfM2ff+bhS4Tzrvf+zlVBLwa3co7ITKIRtJT4gEjbfjeNtK5oSri8yeEIrl+X7j5wfeWjySphC3aFwISuFZNDkz0nfc38vialYgC7uaXv7aluZB2H2tkD4JsR+9C/EPSVNIbH5ZgWy8Q2lbHgDJ+3Gd2DeZJJhTarGBL0mOOmIX+3ivzQb/3c+FzzeNAnHIbggrm33OqDtHegI095pNv/cSWl5RSABZldtL1+KVYEQ9+fPluy5v5c7pYeYvN0UoVeUP9289FztRx4MIiDs7F7WUJMyga3sIEimkUKg3H2XPK/dx5w7w+Qx8ORH+VgTXM2DjcGnl2dH0f8mcmZ1mzCbrhqJ18iVhzKbU+ma/NIWKRPUNBTvJWxx3PuFAMC2kmFvGY4uJGlLwrs9SnIm7UZnhpf7B+t2QLlQ8okjUpjR3y0zL+WobxNBYLPsswMAYw/CYVupRx1uDfYPgtyaCmw4ZhzJFbVFds4=
